<section class="px-3 py-1">
    <h1 class="text-title-4">Pedidos</h1>
    <header class="flex gap-3 justify-between sticky top-0 bg-[#ffffff63] z-20 py-4 filter backdrop-blur-sm">
        <p-inputGroup class="w-fit">
            <input type="text" pInputText placeholder="Busca todo lo ves" />
            <button type="button" pButton class="text-neutral-50 text-button">Buscar</button>
        </p-inputGroup>
        <button class="btn btn-flat-primary">Nuevo</button>
    </header>
    <div class="card">
        <p-table
            #dt2
            [value]="customers"
            dataKey="id"
            [rows]="10"
            [totalRecords]="120"
            [rowsPerPageOptions]="[10, 25, 50]"
            [loading]="loading"
            [paginator]="true"
            [globalFilterFields]="['name', 'country.name', 'representative.name', 'status']"
            [tableStyle]="{ 'min-width': '75rem' }"
        >
        <ng-template pTemplate="header">
            <tr>
                <th style="width:22%">Name</th>
                <th style="width:22%">Country</th>
                <th style="width:22%">Agent</th>
                <th style="width:22%">Status</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-customer>
            <tr>
                <td> {{ customer.name }} </td>
                <td>
                    <img 
                        src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png" 
                        [class]="'flag flag-' + customer.country.code" 
                        style="width: 20px" />
                    <span class="ml-1 vertical-align-middle">
                        {{ customer.country.name }}
                    </span>
                </td>
                <td>
                    <img 
                        [alt]="customer.representative.name"
                        src="https://primefaces.org/cdn/primeng/images/demo/avatar/{{ customer.representative.image }}"
                        width="32" 
                        style="vertical-align: middle" />
                    <span class="ml-1 vertical-align-middle">
                        {{ customer.representative.name }}
                    </span>
                </td>
                <td>
                    <p-tag [value]="customer.status" [severity]="getSeverity(customer.status)"/>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="5">No customers found.</td>
            </tr>
        </ng-template>
        </p-table>
    </div>
</section>